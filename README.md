# HRS
Health Recommendation System

A Flask-based web application that provides AI-powered health recommendations based on patient symptoms. The application supports multiple LLM providers (Google Gemini and OpenAI GPT) to analyze symptoms and provide general health advice. It runs using Gunicorn as the WSGI server and can be deployed as a Docker container.

## Features

- Clean and responsive web interface
- Patient symptoms input form with multiple fields (symptoms, duration, severity, additional info)
- **Multiple LLM provider support**: Choose between Google Gemini (default) or OpenAI GPT
- Flexible provider configuration through environment variables
- AI-powered health recommendations with configurable providers
- Detailed output screen showing symptoms summary and AI-generated recommendations
- Medical disclaimer for user safety
- Production-ready with Gunicorn WSGI server
- Dockerized for easy deployment

## Prerequisites

- Python 3.13 or higher
- An API key from one of the supported providers:
  - **Gemini API key** (recommended, default provider): Get from https://makersuite.google.com/app/apikey
  - **OpenAI API key** (optional): Get from https://platform.openai.com/api-keys
- Docker (for containerized deployment)

## Running Locally

1. Install dependencies:
```bash
pip install -r requirements.txt
```

2. Set up environment variables:
```bash
cp .env.example .env
# Edit .env and configure your preferred LLM provider:
# - Set LLM_PROVIDER to either 'gemini' (default) or 'openai'
# - Add the corresponding API key (GEMINI_API_KEY or OPENAI_API_KEY)
```

3. Run with Flask development server:
```bash
python app.py
```

4. Run with Gunicorn (Linux only):
```bash
gunicorn --bind 0.0.0.0:5000 app:app
```

5. Open your browser and navigate to `http://localhost:5000`

## Running with Docker

1. Build the Docker image:
```bash
docker build -t hrs-flask-app .
```

2. Run the container with your LLM provider configuration:
```bash
# Using Gemini (default)
docker run -d -p 8080:5000 -e GEMINI_API_KEY=your_api_key_here --name hrs hrs-flask-app

# Or using OpenAI
docker run -d -p 8080:5000 -e LLM_PROVIDER=openai -e OPENAI_API_KEY=your_api_key_here --name hrs hrs-flask-app
```

3. Open your browser and navigate to `http://localhost:8080`

4. Stop the container:
```bash
docker stop hrs
docker rm hrs
```

## Project Structure

```
HRS/
├── app.py                  # Flask web application (routes and web logic)
├── llm_service.py         # LLM service module (provider integration, prompts)
├── llm_providers.py       # LLM provider factory and re-exports
├── llm_provider.py        # Abstract base class for LLM providers
├── openai_provider.py     # OpenAI provider implementation
├── gemini_provider.py     # Google Gemini provider implementation
├── llm_constants.py       # Shared constants and message templates
├── templates/
│   ├── index.html         # Patient symptoms input form
│   └── output.html        # AI recommendations display page
├── requirements.txt       # Python dependencies
├── .env.example          # Environment variables template
├── Dockerfile            # Docker configuration
├── .dockerignore        # Docker ignore file
├── .gitignore           # Git ignore file
└── README.md            # This file
```

## LLM Provider Configuration

The application supports multiple LLM providers with easy configuration:

### Supported Providers

1. **Google Gemini** (Default)
   - Model: `gemini-1.5-flash`
   - Configuration: Set `LLM_PROVIDER=gemini` (or omit, as it's the default)
   - API Key: `GEMINI_API_KEY`

2. **OpenAI GPT**
   - Model: `gpt-3.5-turbo`
   - Configuration: Set `LLM_PROVIDER=openai`
   - API Key: `OPENAI_API_KEY`

### Configuration Steps

1. Copy the example environment file:
   ```bash
   cp .env.example .env
   ```

2. Edit `.env` and set your preferred provider:
   ```bash
   # For Gemini (default)
   LLM_PROVIDER=gemini
   GEMINI_API_KEY=your_gemini_api_key_here
   
   # For OpenAI
   LLM_PROVIDER=openai
   OPENAI_API_KEY=your_openai_api_key_here
   ```

3. The application will automatically use the configured provider

### Demo Mode

If no API key is configured, the application runs in demo mode, showing example responses instead of real AI-generated recommendations.

## Usage

1. Open the application in your browser
2. Enter your symptoms in the input form:
   - Describe your symptoms
   - Specify how long you've had them
   - Rate the severity (1-10)
   - Add any additional relevant information (optional)
3. Click "Get Health Recommendations"
4. View AI-generated health recommendations on the output page
5. Click "Enter New Symptoms" to input new symptoms

## Important Disclaimer

This application provides general health information and recommendations generated by AI. It is NOT a substitute for professional medical advice, diagnosis, or treatment. Always consult with a qualified healthcare provider for proper medical care.
